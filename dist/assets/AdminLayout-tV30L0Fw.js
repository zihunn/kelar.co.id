import{r as l,j as e,e as f,a as j,L as c,b as v}from"./index-msZeOKOw.js";import{api as h}from"./api-JaiMacjZ.js";import{c as i}from"./createLucideIcon-Dvqhwfdi.js";import{M as m,X as w,T as N}from"./ThemeLanguageToggle-CtFGXHg2.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],x=i("eye",C);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],z=i("file-text",L);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],S=i("image",_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],A=i("info",M);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],I=i("layout-dashboard",$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],E=i("log-out",T),u=l.createContext(void 0);function H({children:a}){const[t,r]=l.useState(!0),o=()=>{r(!t)};return e.jsx(u.Provider,{value:{isCollapsed:t,setIsCollapsed:r,toggleSidebar:o},children:a})}function g(){const a=l.useContext(u);if(!a)throw new Error("useSidebar must be used within SidebarProvider");return a}function P(){const a=f(),{isCollapsed:t,toggleSidebar:r,setIsCollapsed:o}=g(),{t:s}=j(),d=[{path:"/admin/dashboard",icon:I,label:s("admin.dashboard")},{path:"/admin/hero-slider",icon:S,label:s("admin.heroSlider")},{path:"/admin/articles",icon:z,label:s("admin.articles")},{path:"/admin/about",icon:A,label:s("admin.aboutUs")}],y=()=>{h.logout(),window.location.href="/admin/login"},p=()=>{window.innerWidth<1024&&o(!0)};return e.jsxs("div",{className:`bg-[var(--kelar-secondary)] text-white h-screen fixed left-0 top-0 flex flex-col transition-all duration-300 z-40 ${t?"-translate-x-full lg:translate-x-0 lg:w-20":"translate-x-0 w-64"}`,children:[e.jsxs("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[!t&&e.jsx("img",{src:"https://bion-dev.zlabs.my.id/images/kelar-white.png",alt:"Kelar.co.id",className:"h-16 lg:h-20"}),e.jsx("button",{onClick:r,className:`p-2 hover:bg-white/10 rounded-lg transition-colors ${t?"mx-auto":""}`,title:t?"Expand sidebar":"Collapse sidebar",children:t?e.jsx(m,{size:24}):e.jsx(w,{size:24})})]}),e.jsx("nav",{className:"flex-1 py-6 overflow-y-auto",children:d.map(n=>{const b=a.pathname===n.path,k=n.icon;return e.jsxs(c,{to:n.path,onClick:p,className:`flex items-center gap-3 px-6 py-3 transition-colors ${b?"bg-[var(--kelar-primary)] text-white":"text-gray-300 hover:bg-white/10 hover:text-white"} ${t?"justify-center lg:px-6":""}`,title:t?n.label:"",children:[e.jsx(k,{size:20}),!t&&e.jsx("span",{children:n.label})]},n.path)})}),e.jsx("div",{className:"p-6 border-t border-white/10",children:e.jsxs("button",{onClick:y,className:`flex items-center gap-3 text-gray-300 hover:text-white transition-colors w-full ${t?"justify-center":""}`,title:t?s("admin.logout"):"",children:[e.jsx(E,{size:20}),!t&&e.jsx("span",{children:s("admin.logout")})]})})]})}function W(){const{toggleSidebar:a}=g();return e.jsxs("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 h-16 flex items-center justify-between px-4 sm:px-6 lg:px-8 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:a,className:"lg:hidden p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Toggle menu",children:e.jsx(m,{size:24,className:"text-gray-700 dark:text-gray-300"})}),e.jsx("h1",{className:"hidden lg:block text-lg sm:text-xl text-gray-800 dark:text-gray-200",children:"Panel Admin Kelar"})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[e.jsx(N,{}),e.jsxs(c,{to:"/",target:"_blank",rel:"noopener noreferrer",className:"hidden sm:flex items-center gap-2 px-4 py-2 text-[var(--kelar-primary)] hover:bg-blue-50 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[e.jsx(x,{size:18}),e.jsx("span",{className:"text-sm",children:"Lihat Website"})]}),e.jsx(c,{to:"/",target:"_blank",rel:"noopener noreferrer",className:"sm:hidden p-2 text-[var(--kelar-primary)] hover:bg-blue-50 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Lihat Website",children:e.jsx(x,{size:18})})]})]})}function q({children:a}){const t=v(),{isCollapsed:r,setIsCollapsed:o}=g();return l.useEffect(()=>{const s=h.isAuthenticated(),d=h.getToken();console.log("[AdminLayout] Pengecekan status login:",{authenticated:s,hasToken:!!d}),s?console.log("[AdminLayout] Sesi valid, tetap di dashboard."):(console.log("[AdminLayout] Sesi tidak valid, mengalihkan ke login..."),t("/admin/login"))},[t]),e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors",children:[e.jsx(P,{}),!r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>o(!0)}),e.jsxs("div",{className:`transition-all duration-300 ${r?"lg:ml-20":"lg:ml-64"}`,children:[e.jsx(W,{}),e.jsx("main",{className:"p-4 sm:p-6 lg:p-8",children:a})]})]})}function O({children:a}){return e.jsx(H,{children:e.jsx(q,{children:a})})}export{O as A,z as F,S as I,A as a};
